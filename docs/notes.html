<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.4">
<meta name="author" content="Florian Jung">
<title>Audience Participation Notes</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
body{-webkit-font-smoothing:antialiased}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
body{tab-size:4}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Audience Participation Notes</h1>
<div class="details">
<span id="author" class="author">Florian Jung</span><br>
<span id="revnumber">version 0.0.3,</span>
<span id="revdate">2015-02-21</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_about_this_document">About this document</a></li>
<li><a href="#_2014_12_23">2014-12-23</a></li>
<li><a href="#_2014_12_24">2014-12-24</a></li>
<li><a href="#_2014_12_27">2014-12-27</a></li>
<li><a href="#_2014_12_29">2014-12-29</a>
<ul class="sectlevel2">
<li><a href="#_audience_participation_protocol_app_working_title">Audience Participation Protocol (APP - Working title)</a></li>
</ul>
</li>
<li><a href="#_2015_01_01">2015-01-01</a></li>
<li><a href="#_2015_01_02">2015-01-02</a></li>
<li><a href="#_2015_02_24">2015-02-24</a></li>
<li><a href="#_2015_03_19">2015-03-19</a></li>
<li><a href="#_2015_03_21">2015-03-21</a>
<ul class="sectlevel2">
<li><a href="#_sensorclientinterface">SensorClientInterface</a></li>
<li><a href="#_sensorinterface">SensorInterface</a></li>
<li><a href="#_sensorserverinterface">SensorServerInterface</a></li>
</ul>
</li>
<li><a href="#_2015_03_26">2015-03-26</a></li>
<li><a href="#_2015_04_01">2015-04-01</a></li>
<li><a href="#_2015_04_04">2015-04-04</a></li>
<li><a href="#_2015_04_07">2015-04-07</a></li>
<li><a href="#_2015_05_21">2015-05-21</a>
<ul class="sectlevel2">
<li><a href="#_sensorinterface_2">SensorInterface</a></li>
<li><a href="#_sensorserverinterface_sensorinterface">SensorServerInterface &#8658; SensorInterface</a></li>
<li><a href="#_sensorclientinterface_sensorinterface">SensorClientInterface &#8658; SensorInterface</a></li>
</ul>
</li>
<li><a href="#_2015_05_26">2015-05-26</a></li>
<li><a href="#_2015_05_27">2015-05-27</a></li>
<li><a href="#_2015_05_28">2015-05-28</a></li>
<li><a href="#_2015_06_01">2015-06-01</a></li>
<li><a href="#_2015_06_02">2015-06-02</a></li>
<li><a href="#_2015_06_05">2015-06-05</a></li>
<li><a href="#_2015_06_09">2015-06-09</a></li>
<li><a href="#_2015_06_11">2015-06-11</a></li>
<li><a href="#_2015_06_22">2015-06-22</a></li>
<li><a href="#_2015_06_24">2015-06-24</a></li>
<li><a href="#_2015_06_28">2015-06-28</a></li>
<li><a href="#_2015_07_01">2015-07-01</a></li>
<li><a href="#_2015_07_02">2015-07-02</a></li>
<li><a href="#_2015_07_08">2015-07-08</a></li>
<li><a href="#_2015_07_14">2015-07-14</a></li>
<li><a href="#_2015_07_17">2015-07-17</a></li>
<li><a href="#_2015_07_18">2015-07-18</a></li>
<li><a href="#_2015_07_21">2015-07-21</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Version 0.0.3 from 2015-02-21</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_about_this_document">About this document</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document contains the transcription of my personal journal when designing and
building <a href="https://github.com/the01/python-paps">paps</a> and writing my bachelor thesis.
While this journal entries do give you a good overview of the project&#8217;s history,
they are not blog posts. They sometimes just follow my train of thought when working
on and trying to solve a problem. Which is why they, at times, are not written in
complete sentences. I have included them here anyway, because they demonstrate what
kind of difficulties I encountered, how I solved them and what kind of considerations
went into particular design decisions.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2014_12_23">2014-12-23</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Force Sensitive Resistor (SEN-09376) - 4.4x4.4 cm<br>
Voltage Divider measure V</p>
</li>
<li>
<p>IR/Sonic Sensor</p>
</li>
<li>
<p>Capacitive Sensor</p>
</li>
<li>
<p>Pressure switch</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Sound &lt; 10ms latency not noticeable<br>
11-20ms monitoring starts unusable, smearing<br>
20-30 ms delayed sounds -&#8594; actual delay</p>
</div>
<div class="paragraph">
<p>&lt; 300bpm - 3,3ms<br>
200 bpm - 5ms</p>
</div>
<div class="paragraph">
<p>not much about accurate timing, when to start/stop, but more a holding (several
times the start precision) and not ending either.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2014_12_24">2014-12-24</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Reaction Time Tests:</strong> Takes some time from the point when the human audience
member gets the signal to move to the time he actually moves to the time the
system registers the actual point in time where the senor recognizes activity.
The latency between signal to human-initiates movement might be cut shorter,
e.g. with periodic activities ("im Takt") or with a little head start.</p>
</div>
<div class="paragraph">
<p>The stand up/sit down method of interaction with the system probably is not
suitable for longer sessions since it is quite a tiring exercise. If several
up/downs are required the participation will significantly go down.
Additionally as the people get more tired, their reaction time/time span between
starting the movement and the triggering of the sensor increases.
As such the system becomes more inconsistent/imprecise over time. It could
maybe be used as a sort of training method.<br>
This kind of interface automatically excludes people from participation.
Old people or people with disabilities will have major problems with this
kind of sensor. It follows that at first a survey/plan is necessary, which
user base we will want to cover.<br>
Sensors in the arm rest are a good option. A button press is a lot less strenuous
and opens the system up for different kinds of interactions per human. The
is-occupied-sensor might still be deployed, but maybe only used as a rare/special
type of event. This doesn&#8217;t solve the second problem, but it does the first.<br>
A possible improvement of the simple up/down design would be to incorporate several
sensors in one chair. Dependent on the precision and resolution of those
sensors (pressure plates) this setup could enable a control via shifting your
eating position, e.g. lean forward/backward or left/right. With that lean people
with problematic legs could use the system. Additionally this design opens up more
control options.<br>
However there are two big problems with this idea. Primarily it is questionable
whether the left-right/forward-backward movement is detectable. And even if it
were possible, such sensors are most likely rather expensive or at least more
expensive than a simple one that only needs to register seat occupancy. On a
greater scale the simpler solution will probably prove to be more economical.
The occupancy-sensor is easier to deploy in different kinds of
chairs/cushions/upholstery setups.</p>
</div>
<div class="paragraph">
<p>If the system is intended to be used in much the same way as the McFarlin video
of harmonics, it won&#8217;t be as impressive since every button will result in the
perfect tone to be emitted. It is not a sum of all sub-tones, but at best the
volume is dependent on the sum of single inputs.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2014_12_27">2014-12-27</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>p54-drawing if chair setup/simple interface</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2014_12_29">2014-12-29</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_audience_participation_protocol_app_working_title">Audience Participation Protocol (APP - Working title)</h3>
<div class="paragraph">
<p><em>p55-APP header v1_</em></p>
</div>
<div class="paragraph">
<p><code>&gt;..big-endian</code>  <code>&lt;..little-endian</code>  <code>!..network (big-endian)</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">  VER = Maj &lt;&lt; 4 + Min  # "B" 8 Bit unsigned
  MsgTyp                # "B" -"-
  PayLen = len(payload) # "H" 16 bit unsigned
  Id                    # "I" 32 bit unsigned
  TimeStamp             # "f" 32 bit float
  # ..</code></pre>
</div>
</div>
<div class="paragraph">
<p>append payload to pached header</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">  def unpack_helper(fmt, data):
    size = struct.calcsize(fmt)
    return struct.unpack(fmt, data[:size]), data[size:]</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>ZeroConf (Bonjour)<br>
&#8594; easier to set up;<br>
might need to change because of high traffic in network</p>
</li>
<li>
<p>Mutlicast for discovery (239.255.0.0-239.255.255.255: multicast group)<br>
mac &#8594; bind to 0.0.0.0<br>
win &#8594; bind to specific local ip</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Multicast as way to register clients/servers<br>
announce server every 30 secs?<br>
do clients register to the server - clients &#8594; server<br>
server registers to the clients - server &#8594; clients</p>
</div>
<div class="paragraph">
<p>clients &#8594; server: server needs to regularly send (30sec) msg;<br>
<strong>lots</strong> of packets; only needed in initial stage<br>
since clients need to listen anyway &#8594; <strong>clients &#8594; server</strong></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Is it possible that the multicast listen socket is the same as the "normal"
listening socket???
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>client goes online &#8594; send JOIN-Packet via multicast (send id, ip, maybe more
infos of the client in the JOIN-Packet)</p>
</div>
<div class="paragraph">
<p>Server implements CONFIG-Packet to transmit changes in the configuration.<br>
Is sent to a newly registered client (upon JOIN-Packet) or to the multicast-group
(upon config changes at runtime)</p>
</div>
<div class="paragraph">
<p>client sends STATUS-Packet directly to server if an action occurs on the pi to
inform the server of the state change.</p>
</div>
<div class="paragraph">
<p>ID ≈ TCP Sequence Number</p>
</div>
<div class="paragraph">
<p>In original protocol proposal the timestamp in the ACK-Packet was supposed to be
the same as the one in the original packet. Put the current timestamp when sending
the ACK-Packet and include the original stamp in the payload.</p>
</div>
<div class="paragraph">
<p>What about the Seq in the ACK? Does it need its own sequence number? Probably not,
since the seq is required for the acknowledge and that only applies to normal packets.
ACKs do not need retransmitting, the original packet just gets sent again and so
does the ensuing ACK.<br>
Move the ID into the payload. Maybe include an id in the header instead.</p>
</div>
<div class="paragraph">
<p>Unique id on client from config file. Sends this as proposal to server. Server
might confirm or change this in the ACK or separate packet.</p>
</div>
<div class="paragraph">
<p>APP might include method to merge packets together so you only need to use one
<code>send()</code> instead of two.<br>
Common fields: Version, TimeStamp<br>
need two payloads, lengths, MsgTypes, SeqNum, possibly flags</p>
</div>
<div class="paragraph">
<p>H0: Version/MsgTyp/PayloadLength<br>
H1: TimeStamp<br>
no more Id/SeqNum in general header<br>
H2: Flags<br>
H3: Reserved</p>
</div>
<div class="paragraph">
<p><strong>FLAGS</strong><br>
LVB (Least Value Bit)..0<br>
HVB&#8230;&#8203;&#8230;&#8203;&#8230;&#8203;&#8230;&#8203;&#8230;&#8203;&#8230;&#8203;..32</p>
</div>
<div class="literalblock">
<div class="content">
<pre>0..Continue/Continuous Flag: If present `recv()` should read another packet
after this one (inifinit? - UDP max pack size)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>1..Multipart Flag: If present next packet (according to Seq) contains data
-&gt; instead payload = payload_packet1 + payload_packet2 +
can be used if payload exceeds the max. size for UDP-packet size</pre>
</div>
</div>
<div class="paragraph">
<p>Protocol not secure against tampering. If someone gets onto the network he can
end packets.<br>
For example packets with a forged header (the payload length set to high value
- max number) can block a client/server from receiving valid packets.<br>
Possible solution: Message authentication code</p>
</div>
<div class="paragraph">
<p>Is the IP unique enough to identify the sender? Lets include it for now?</p>
</div>
<div class="paragraph">
<p>H2: <em>p59-ID-Flags header part</em><br>
ID: 65535 possible participants<br>
H1: <code>datetime.now().timetuple()</code> &#8594; <code>time.mktime(x)</code> &#8594; <code>ts</code><br>
<code>time.time()</code> &#8594; <code>ts</code><br>
<code>ts</code> &#8594; <code>datetime.utcfromtimestamp()</code></p>
</div>
<div class="paragraph">
<p><em>p59-Basic APP-Header</em></p>
</div>
<div class="sect3">
<h4 id="_join_packet_1">JOIN-PACKET (1)</h4>
<div class="paragraph">
<p><em>p60-SeqNum</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p>listen IP? &#8594; can be obtained by <code>recv()</code></p>
</li>
<li>
<p>listen Port &#8594; can be obtained by <code>recv()</code></p>
</li>
<li>
<p>seats</p>
<div class="ulist">
<ul>
<li>
<p>seatCount</p>
</li>
<li>
<p>seatNumber, seatNumber,.. (seatCount times)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>separate by char '\n' &#8594; <code>split('\n')</code> or jsonify<br>
listenIP/listenPort are received</p>
</div>
<div class="paragraph">
<p>04 008 0012 00016 0000020<br>
16 256 4096 65536 1048576</p>
</div>
<div class="paragraph">
<p>Payload = ["s1", "s2", "s3"] &#8594; json</p>
</div>
</div>
<div class="sect3">
<h4 id="_ack_packet_0">ACK-Packet (0)</h4>
<div class="paragraph">
<p><em>p61-SeqNum</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Seq of original packet</p>
</li>
<li>
<p>timestamp of orig packet</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>&#8594; via header flag <em>isAck</em><br>
&#8658; every packet is possible</p>
</div>
<div class="paragraph">
<p>timestamp optional? only really needed when measuring round trips..maybe
timeouts adjustable<br>
&#8594; option when rest of the system stable and fast enough<br>
&#8594; include it as a way of statistics<br>
&#8594; diagnostic tool - test only one client at a time<br>
&#8594; set with FLAG (4 byte less)</p>
</div>
<div class="paragraph">
<p>No continuous flag or the server would need to hold a buffer for each connected
client.</p>
</div>
<div class="paragraph">
<p>But some state info for each connected client is necessary. Append to that struct
the incomplete packs (with timeout?) and only keep one partial at a time
&#8594; buffer overflow if many forged packets.</p>
</div>
<div class="paragraph">
<p>how secure does it have to be against tampering? Can foreign devices be present
on the network?</p>
</div>
<div class="paragraph">
<p>Flag:<br>
0. Bit: Is Ack Seq. present<br>
1. Bit: Rev TimeStamp</p>
</div>
<div class="paragraph">
<p><em>p62-JOIN network</em></p>
</div>
<div class="paragraph">
<p>DeviceId really in header? Yes, because IP more likely to change than ID.<br>
Collision handling: First come, first serve. The one that registers an ID first
can keep it. But what if the IP changes? Include MAC in JOIN?</p>
</div>
<div class="paragraph">
<p>Problem: Device was once registered, but did not save settings. Upon restart it
should load info from server. How does it know, it was the same?<br>
Simple: Conflicts by hand. Device id of 0 ≈ request to be assigned a device id;
device id of 1 corresponds to the server</p>
</div>
<div class="paragraph">
<p>seat nr of 0 means you need to assign one. setup values</p>
</div>
<div class="paragraph">
<p>client id on server is "&lt;ip&gt;:&lt;port&gt;"</p>
</div>
<div class="paragraph">
<p>Add every packet sent to an resend <code>[]</code> sorted by resend time. If ack for that
packet comes in &#8594; remove it or add the acked packets sequence number to another
list and if a packet comes around to being retransmitted, check first whether the
sequence number of the packet is in the acked seq num list and if, remove them
from both lists. Otherwise retransmit the package and readd it to the resend list,
but only if the max resend count is not overstepped.</p>
</div>
<div class="paragraph">
<p>Client send seat changes (only the changed state in the particular seat).<br>
Question is: Wait longer for another seat to change or send multiple packages?
Comes down to reaction time of set change (occupancy sensor) vs network/server usage.</p>
</div>
<div class="paragraph">
<p>Server has to have strong CPU and (multiple) fast network cards. Can&#8217;t distribute
the work over several machines, since that would add additional lag by
communication to these sub-servers. Would in theory only work with a load balancer
distributing the client packets by category. Lookup table sorted by last access
..if packet comes along of cat1; cat1 should be first in structure to lookup
current packet</p>
</div>
<div class="paragraph">
<p>Server is dictator in APP. Clients may request values, but server can accept or
decline them and send different values instead.</p>
</div>
</div>
<div class="sect3">
<h4 id="_config_packet_2">CONFIG-PACKET (2)</h4>
<div class="paragraph">
<p>change settings of client; payload is a dict with the corresponding key/value
pairs set (only the ones we want changed)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>device id</p>
</li>
<li>
<p>seat numbers</p>
</li>
<li>
<p>timeouts</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Problem with synchronizing the received settings back to the client. Either not
synced or time delay every time the value is accessed (for reading)</p>
</div>
<div class="paragraph">
<p>Can use json because it hardly ever gets sent
&#8594; no need to compress (bit count the message)</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2015_01_01">2015-01-01</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>p66-APP header</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2015_01_02">2015-01-02</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To play multiple notes simultaneously either add the frequencies
(proportional, so that the amplitude stays the same - <code>freq1 * 0.2 + feq2 * 0.8</code>
&#8594; does not get loader) or use multiple outputs (music playing nodes)
<em>p66-SCM sketch</em>
S..Pi/Sensor<br>
C..ControllUnit<br>
M..MusicPlayingNode</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2015_02_24">2015-02-24</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>p71-pi led monitor sketch</em></p>
</div>
<div class="paragraph">
<p>LED on &#8594; Stand up<br>
measure trigger time<br>
How long from led on to switch triggered</p>
</div>
<div class="paragraph">
<p>LED on &#8594; push button<br>
measure "normal" reaction time of that person</p>
</div>
<div class="paragraph">
<p>alternating</p>
</div>
<div class="paragraph">
<p><em>p71-simple controll ui sketch</em></p>
</div>
<div class="paragraph">
<p><strong>MEETING</strong></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2015_03_19">2015-03-19</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>MEETING</strong></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2015_03_21">2015-03-21</h2>
<div class="sectionbody">
<div class="paragraph">
<p>API-Network (apin)</p>
</div>
<div class="paragraph">
<p>into api &#8594; <code>JOIN(seats_[seat:{}]) &#8594; BOOL</code> y/n<br>
out of api &#8592; <code>CONFIG(settings:{})</code><br>
- server wants to change settings on this client</p>
</div>
<div class="paragraph">
<p>apin needs to manage own network settings &#8594; e.g. own .config() method</p>
</div>
<div class="paragraph">
<p><code>api-n.start()</code> &#8594; start the (packet) loops<br>
<code>api-n.stop()</code> &#8594; stop all loops</p>
</div>
<div class="paragraph">
<p>apin identifies the pi automatically to the server (keeps track of its id).
Above the apin level the client id is unknown. The server on the other hand has
to be made aware of the client id (or a translation between apin-ids and external
ones has to be provided)</p>
</div>
<div class="paragraph">
<p>A problem is the device id. Since the client can either provide an id
(e.g. used before) or request a new one, automatic generation requires the apin
to be aware of all existing clients</p>
</div>
<div class="paragraph">
<p>&#8592; <code>apin.newDeviceID(key:"ip:port") &#8594; 16 bit int</code><br>
- request new unique (unused) device id for a registering client. Has to be &gt; 1</p>
</div>
<div class="paragraph">
<p><code>apin.join()</code> and <code>apin.config()</code> are part of the client api (not needed on server).
On the other hand <code>apin.newDevice()</code>,.. are not needed on the client side.<br>
&#8594; Make two apis inheriting from a more general one?</p>
</div>
<div class="paragraph">
<p>SensorInterface<br>
&#8656; SensorClientInterface<br>
&#8656; SensorServerInterface</p>
</div>
<div class="paragraph">
<p>One seat shall be called person to open it up for future changes</p>
</div>
<div class="sect2">
<h3 id="_sensorclientinterface">SensorClientInterface</h3>
<div class="paragraph">
<p>on failure: exception<br>
&#8594; join(people:[person:{}]) &#8594; people:[person:{}]<br>
&#8592; config(setting:{})<br>
&#8594; personUpdate(people:[person:{}])<br>
&#8594; unjoin()</p>
</div>
<div class="paragraph">
<p><code>sci.join()</code> possibly automatically at start up?<br>
<code>sci.config()</code> must be registered at instantion of API-Layer<br>
<code>sci.personUpdate()</code>: one of the people has changed<br>
&#8594; update them all<br>
<code>sci.unjoin()</code>: leave the audience (e.g. at <code>stop()</code>)<br>
make it possible via <code>sci.config()</code> to stop monitoring the sensor (or maybe even
shutdown the whole client)</p>
</div>
</div>
<div class="sect2">
<h3 id="_sensorinterface">SensorInterface</h3>
<div class="paragraph">
<p>&#8594; start()<br>
&#8594; stop()</p>
</div>
</div>
<div class="sect2">
<h3 id="_sensorserverinterface">SensorServerInterface</h3>
<div class="paragraph">
<p>&#8592; newPerson(person:{}) &#8594; person:{}<br>
&#8592; personUpdate(people:[person:{}])<br>
&#8594; getNeighbours(personId:str) - &gt; people:[person:{}]<br>
TODO: settings</p>
</div>
<div class="paragraph">
<p>separate device from person! &#8594; ssi manages device-person-translations.<br>
&#8594; no need to request new device id (but person id)<br>
Person id can be arbitrary (albeit unique) string<br>
maintain a device &#8594; person mapping (incoming)<br>
maintain a person &#8594; device mapping (outgoing; also if client req. specific
person id &#8594; determine if used or not)<br>
<code>ssi.personUpdate()</code>: update info for a person. The question is if a sensor monitors
multiple people (and sends info on all of them, even when only one has changed)
&#8594; do multiple personUpdate() or give it a []<br>
for now make it [] (can still do multiple)<br>
<code>ssi.getNeighbours(id)</code>: which people are on the same device as the person id
(&#8594; might share settings)<br>
might need a si specific settings page<br>
<code>ssi.newPerson()</code>: check if present and conflicting with already registered people,
otherwise generate a new id and correct id &#8594; return the person</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2015_03_26">2015-03-26</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>p83-Sensor inheritance sketch</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2015_04_01">2015-04-01</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>p83-Sensor Crowd Akteurs sketch</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p>list of sensor interfaces</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Crowd &amp; Akteur similar/same interface &#8594; interchangeable &#8594; put an Akteur
directly into crowd without the AkteurManagement through Akteur.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2015_04_04">2015-04-04</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>p84-Network crowd sketch</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p>is socket thread safe?</p>
</li>
<li>
<p>each plugin (Akteur) in separate thread?</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>[network + packet] - Sensor<br>
(crowd + plugin) - process</p>
</div>
<div class="paragraph">
<p><em>p84-Sensor Crowd sketch</em></p>
</div>
<div class="paragraph">
<p><code>crowd.dispatchToThread()</code> - not new threads. Each thread is already running in
its own thread and waiting for new input to come in. [Common base for all plugins
that call the later implemented/diff-updated or/and updated]</p>
</div>
<div class="paragraph">
<p><em>p84-Crowd Plugin sketch</em></p>
</div>
<div class="paragraph">
<p>Connection between crowd and plugin via socket?<br>
one tcp socket (possibly ssh??)<br>
+ side:<br>
* crowd and plugin not on same server<br>
* several plugins possible</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2015_04_07">2015-04-07</h2>
<div class="sectionbody">
<div class="paragraph">
<p>make seq. in APP permanent, but do a seqNr == 0 is not present (and move seq
into APPHeader)</p>
</div>
<div class="paragraph">
<p>APPServer per client remember highest seq per APPMsgTyp &#8594; if ackable, only use
highest seq. (per MsgTyp remember last seq)<br>
also last seq received (know when seq was reset)</p>
</div>
<div class="paragraph">
<p>APPUpdateMessage: People encoded - MSB always set (delimiter) &#8594; byte-wise</p>
</div>
<div class="paragraph">
<p>&#8658; most 7 bit per byte used for information</p>
</div>
<div class="paragraph">
<p>1 0010 1011<br>
| |------------|<br>
| | people information<br>
|-- marker</p>
</div>
<div class="paragraph">
<p>got length via payload length<br>
only head marker for start</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2015_05_21">2015-05-21</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<code>.exception()</code> starts with "Failed .."<br>
<code>raise Exception()</code> ends with ".. failed"
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_sensorinterface_2">SensorInterface</h3>
<div class="paragraph">
<p>&#8594; start<br>
&#8594; stop</p>
</div>
</div>
<div class="sect2">
<h3 id="_sensorserverinterface_sensorinterface">SensorServerInterface &#8658; SensorInterface</h3>
<div class="paragraph">
<p>&#8592; on_new_person/on_person_new<br>
&#8592; on_person_update<br>
&#8592; on_person_leave</p>
</div>
</div>
<div class="sect2">
<h3 id="_sensorclientinterface_sensorinterface">SensorClientInterface &#8658; SensorInterface</h3>
<div class="paragraph">
<p>&#8592; on_config - to top<br>
&#8594; join<br>
&#8594; unjoin<br>
&#8594; personUpdate<br>
&#8594; config - from top to bottom and back<br>
on_config and config really both needed?</p>
</div>
<div class="paragraph">
<p>Put people management into Sensor, loose Crowd and give plugins + plugin management,
Sensor the same interface?<br>
move Crowd into plugin?</p>
</div>
<div class="paragraph">
<p><strong>Raspberry Pi</strong>
0.0-0.8V - Low<br>
1.3-3.3V - High</p>
</div>
<div class="paragraph">
<p><em>p88-FSR voltage divider</em></p>
</div>
<div class="stemblock">
<div class="content">
\[V_{out} = \frac{V_+}{1 + \frac{R_{FSR}}{RM}}\]
</div>
</div>
<div class="stemblock">
<div class="content">
\[(x+1)/y\]
</div>
</div>
<div class="paragraph">
<p>\(R_{FSR} = 300 \Omega\)<br>
\(RM = 10k \Omega\)<br>
&#8594; 0.32mA</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2015_05_26">2015-05-26</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Force Sensitive Resistor</p>
</div>
<div class="paragraph">
<p><em>p88-Battery FSR Voltmeter sketch</em></p>
</div>
<div class="paragraph">
<p>FSR seems to be very sensitive - only light touch with thumb sends it already to
full volts (1.55V). But placing a cushion on it doesn&#8217;t seem to bother the sensor.<br>
Could not really test further as the connections were not particular stable and
kept getting undone.</p>
</div>
<div class="paragraph">
<p>Soldered two shortish cables to the contacts of the FSR. Could not attach
crocodile clips to the sensor - constantly falling off or shorting out.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2015_05_27">2015-05-27</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If pi pin is used to power resistor (FSR) full force would come to 3.3V and
triggers at around 1.3V. So assuming a linear activation curve, 60% of the range
the sensor is capable of, would trigger the pi pin input. Which is a bit much because<br>
a) it is very sensitive and<br>
b) we only want to have near to full pressure triggering it.<br>
On top of that it isn&#8217;t linear, but more of log-curve. So it actually isgoing to
reach the trigger-voltage a lot sooner - more than 60% activated.<br>
&#8594; A voltage divider to lower max. volts. Put it between 1.3 and 1.7/1.8/2.0?</p>
</div>
<div class="stemblock">
<div class="content">
\[V_{out} = \frac{V_+}{1 + \frac{R_{FSR}}{R}}\]
</div>
</div>
<div class="stemblock">
<div class="content">
\[R = \frac{V_{out} * R_{FSR}}{V_+ - V_{out}}\]
</div>
</div>
<div class="paragraph">
<p>\(R_{FSR} = 300 \Omega; V_+ = 3.3V\)<br>
\(V_{out} = 1.3V; \Rightarrow R = 195 \Omega\)<br>
\(V_{out} = 1.8V; \Rightarrow R = 360 \Omega\)<br>
\(V_{out} = 2.0V; \Rightarrow R = 460 \Omega\)<br></p>
</div>
<div class="paragraph">
<p><strong>LARS MEETING</strong></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2015_05_28">2015-05-28</h2>
<div class="sectionbody">
<div class="paragraph">
<p>SensorServer: Don&#8217;t overwrite people - only provide a translation between client
people id and server people id</p>
</div>
<div class="paragraph">
<p><code>SensorClient.join()</code>: verify ids of people</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2015_06_01">2015-06-01</h2>
<div class="sectionbody">
<div class="paragraph">
<p>FSR with R of \(10k \Omega\)<br>
pi should trigger at \(\thicksim 15k \Omega\)</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2015_06_02">2015-06-02</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Person packing scheme</p>
</div>
<div class="paragraph">
<p><code>Person(id=0, sitting=False)</code> &#8594; 10<br>
<code>Person(id=0, sitting=True)</code> &#8594; 11<br>
<code>P(0,!sit);P(1,sit)</code> &#8594; 101
<code>P(0,!sit);P(1,!sit);P(2,sit);P(3,!sit);P(4,sit);P(5,!sit);P(6,sit)</code> &#8594; 1001 0101 (0x95)
<code>P(0,!sit);P(1,!sit);P(2,sit);P(3,!sit);P(4,sit);P(5,!sit);P(6,sit);P(7,sit)</code> &#8594; 1 0010 1011 (0x12b)</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2015_06_05">2015-06-05</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Let the pi sat-down-trigger (from FSR) have compatible interface to connect it to<br>
SensorClient as well as into the plugins directly<br>
on_new_person/on_person_update/on_person_leave output; on_config input</p>
</div>
<div class="paragraph">
<p><strong>SensorClient/Server-Interface</strong><br>
<em>p93-Interface</em></p>
</div>
<div class="paragraph">
<p><code>on_new_person</code> <code>becomes on_person_new</code></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2015_06_09">2015-06-09</h2>
<div class="sectionbody">
<div class="paragraph">
<p>@2015-06-01:<br>
FSR with R \(1k \Omega\)<br>
\(R = 1k \Omega; V_+ = 3.3V; V_{out} = 1.3V\)</p>
</div>
<div class="stemblock">
<div class="content">
\[R_{FSR} = \frac{(V_+ - V_{out}) * R}{V_{out}}\]
</div>
</div>
<div class="paragraph">
<p>pi should trigger at \(\thicksim 1.5k \Omega\)</p>
</div>
<div class="paragraph">
<p>Setup:</p>
</div>
<div class="paragraph">
<p><em>p94-FSR GPIO voltage divider</em></p>
</div>
<div class="paragraph">
<p>Results in \(\thicksim 1.1V\) with no touch which mostly tends to trigger the listening</p>
</div>
<div class="paragraph">
<p>enabling the built in pull down resistor in <code>GPIO.setup(3, GPIO.IN, pull_up_down=GPIO.PUD_DOWN)</code>
seems to fix this</p>
</div>
<div class="paragraph">
<p><code>GPIO.FALLING</code> seems very precise - only when lifting, but <code>GPIO.RISING</code> also gets
triggered when lifting (not fast enough? a bit sticky?)
possibly use \(1 \mu F\) capacitor?</p>
</div>
<div class="paragraph">
<p>&#8594; easiest: software debouncing and put <code>GPIO.BOTH</code> (get rising and falling)</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2015_06_11">2015-06-11</h2>
<div class="sectionbody">
<div class="paragraph">
<p>make <code>ChangeInterface._on_person_update()</code> accurate<br>
&#8594; for <code>APP.SensorServer</code> move people inside here and only forward the actually
different people. This makes sense because the fact that unchanged people get
forwarded as well is an implementation specific peculiarity for APP and should not
influence the whole interface design.<br>
But the actual audience management should still take place in the CrowdController.
(Again the people in <code>APP.SensorServer</code> are a necessity out of the protocol design)</p>
</div>
<div class="paragraph">
<p>Careful when changing the state of people in the CrowdController as all plugin
share the same objects &#8594; for every changed Person generate a new instance
(to make the whole thing thread-safe)</p>
</div>
<div class="paragraph">
<p>CrowdController gets a <code>.people()</code> property (with lock)</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2015_06_22">2015-06-22</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>p98-Full components sketch</em></p>
</div>
<div class="paragraph">
<p>Special plugin for crowd?<br>
integrated as regular plugin or special attachment?</p>
</div>
<div class="paragraph">
<p>Start off as hack coded into crowd, but separate class (with plugin interface)
to make it easier to move it elsewhere later (loose coupling)</p>
</div>
<div class="paragraph">
<p>Use long polling?<br>
<em>p99-Crowd Webserver Browser</em></p>
</div>
<div class="paragraph">
<p>only on_person_new/on_person_leave to WS? &#8594; who is present and not state</p>
</div>
<div class="paragraph">
<p>&#8658; separation: (display) state info: Plugins<br>
only one way (except config information &#8594; both ways)</p>
</div>
<div class="paragraph">
<p>settings: WS<br>
Plugin module supplies own settings template</p>
</div>
<div class="ulist">
<ul>
<li>
<p>html &#8594; one &lt;div&gt;<br></p>
</li>
<li>
<p>js &#8594; specific functions:<br></p>
<div class="ulist">
<ul>
<li>
<p>one gets called from outside if changed elsewhere<br></p>
</li>
<li>
<p>one calls outside if page changes (wrapper around REST call?)<br></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2015_06_24">2015-06-24</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A websocket client plugin</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
A regular REST/HTTP client would work as well, but since it might have to support
on_person_update &#8594; many rapid changes - faster if not necessary to create a
connection each time, but use an existing one. If one were to use a client only
for person_new and person_leave then a REST client would be just fine &#8594; either
detect the absence of person_update or make two plugins. Start with only
new/leave - easier; really needed and following the separation directive from
@2015-06-22
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>connected to a webserver with some sort of db backend. Document store? DB should
be of key/value kind? Elasticsearch? MongoDB? of JSON objects/dicts</p>
</div>
<div class="paragraph">
<p>Every dict should have a last_changed field. Should only regard to this level
(e.g. changes only when a new plugin is added to root) or include every
sub-object - is max val of all sub-objects. E.g. if a value in plugin1 has changed
&#8594; update last_changed in "plugin": {.., "last_changed": t} &#8594; also update
last_changed in root to same time as in plugin1.<br>
<strong>Pro:</strong> Only have to look at root to rule out changes<br>
<strong>Con:</strong> Need to let changed time bubble up the (multiple) nested objects (with no
references to parent)<br>
Usually a request would ask directly for specific info (e.g. root: what are your
current plugins &#8594; build menu of available plugins; then when one plugin gets
selected to be displayed &#8594; ask for information about that plugin)<br>
&#8594; no need to use a complicated (bubbling) way of keeping track of change times.<br>
Simultaneously the client needs to keep track of change as well.<br>
Only a simple REST client between plugin system/crowd and webserver won&#8217;t work,
because setting updates have to travel back into the system (except maybe through
the use of long polling could this be resolved)</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2015_06_28">2015-06-28</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Crowd: resource_get<br>
Plugin: .get_resource(resource)<br>
resource is None &#8594; return list of resources with hash values, else return resource
(file content)<br>
update_resource_list/resource_list: update internal resource list/hashes</p>
</div>
<div class="paragraph">
<p>&#8594; from plugin to webbrowser
<em>p102-Crowd Twisted Browser</em></p>
</div>
<div class="paragraph">
<p>resource_get<br>
&#8594; resource_get_list() (see @resource is None)<br>
&#8594; resource_get(some)</p>
</div>
<div class="paragraph">
<p>No paths should be known outside of the plugin as it itself is responsible for
loading and managing the resource - for now only unique resource id</p>
</div>
<div class="paragraph">
<p>Flask: start - Load plugin name - load plugin data - plugin resources (if changed)
&#8594; generate plugin templates (if changed?), with includes to other resources<br>
require file attribute for resource? file ending?<br>
don&#8217;t generate uuid &#8594; caching between server runs &#8594; just names relative to resource
root (resource_path)</p>
</div>
<div class="paragraph">
<p>easier for now: REQUIREMENT: <strong>unique filenames</strong>!!</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2015_07_01">2015-07-01</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Extension/Connection wire</p>
</div>
<div class="paragraph">
<p><em>p103-extension wire</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2015_07_02">2015-07-02</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Possible plugin: musical chairs - changing seats</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2015_07_08">2015-07-08</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Because of uncertain update logic in plugins - limit (assume) only one crowd-twisted
pair &#8594; maybe some checks?</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2015_07_14">2015-07-14</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>p106-APPMessage inheritance</em></p>
</div>
<div class="paragraph">
<p>Instead of registering every supported function of th ChangeInterface, restrict
yourself to just adding an object and try calling the corresponding functions on
it. It should inherit from CI anyway. Maybe I should remove the abstract class and
only leave the <code>NotImplementedError</code> exception the. That way an object doesn&#8217;t have
to implement all functions, but rather only those it chooses to. &#8594; more hard-wiring
in the python code .. - dependency injection?</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2015_07_17">2015-07-17</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Remove <span class="line-through">ackSequenceNumber and</span> ackTimestamp from header</p>
</div>
<div class="paragraph">
<p>add SequenceNumber to APPHeader</p>
</div>
<div class="paragraph">
<p>bump protocol version to 1.0</p>
</div>
<div class="paragraph">
<p>Remove APP_ID_REQUEST &amp; APP_ID_SERVER (for backwards compatibility)</p>
</div>
<div class="paragraph">
<p><em>p108-APPHeader</em></p>
</div>
<div class="paragraph">
<p>&#8594; makes all packets acknowledgable/all packets an ack packet</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2015_07_18">2015-07-18</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Some server stress tests on a Macbook Air. Tested update packet handling - queue
growth</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2015_07_21">2015-07-21</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>SoundMixPlugin</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>deactivate focus after group creation</p>
</li>
<li>
<p>change drag icon?</p>
</li>
<li>
<p>make whole <code>li</code> draggable</p>
</li>
<li>
<p>something to indicate title editable?</p>
<div class="ulist">
<ul>
<li>
<p>play: load - play - channel<br></p>
</li>
<li>
<p>set_volume (channel id?, volume)<br></p>
</li>
<li>
<p>stop<br></p>
</li>
<li>
<p>pause/unpause</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 0.0.3<br>
Last updated 2016-04-03 09:12:00 Mitteleuropõische Sommerzeit
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.6.0/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>